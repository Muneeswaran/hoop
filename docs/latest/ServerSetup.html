<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 20, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Hoop - Hoop, Hadoop HDFS over HTTP 0.1.0-SNAPSHOT - Server Setup</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="author" content="Alejandro Abdelnur" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                  <span id="bannerLeft">
                Â 
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                <div class="xleft">
        Last Published: 2011-07-20
                      </div>
            <div class="xright">            <a href="../index.html">OTHER RELEASES</a>
            |
                <a href="http://www.cloudera.com/" class="externalLink">Cloudera</a>
              
                                 Version: 0.1.0-SNAPSHOT
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Hoop, Hadoop HDFS over HTTP 0.1.0-SNAPSHOT - Server Setup</h2>
<p>[ <a href="index.html">Go Back</a> ]</p>
<p>This page explains how to quickly setup Hoop with Pseudo authentication against a Hadoop cluster with Pseudo authentication.</p>
<div class="section"><h3>Requirements</h3>
<ul><li>Java 6+</li>
<li>Maven 3+</li>
</ul>
</div>
<div class="section"><h3>Clone Hoop Git repository</h3>
<div class="source"><pre>~ $ git clone git://github.com/cloudera/hoop.git</pre>
</div>
</div>
<div class="section"><h3>Build Hoop</h3>
<div class="source"><pre>~ $ cd hoop
hoop $ mvn clean package site assembly:single</pre>
</div>
</div>
<div class="section"><h3>Install Hoop</h3>
<div class="source"><pre>~ $ tar xzf  hoop/hoop-distro/target/hoop-0.1.0-SNAPSHOT.tar.gz</pre>
</div>
</div>
<div class="section"><h3>Configure Hoop</h3>
<p>Edit the <tt>hoop-0.1.0-SNAPSHOT/conf/hoop-site.xml</tt> file and set the <tt>hoop.hadoop.conf:fs.default.name</tt> property to the HDFS Namenode URI. For example:</p>
<div class="source"><pre>hoop.hadoop.conf:fs.default.name=hdfs://localhost:8021</pre>
</div>
</div>
<div class="section"><h3>Configure Hadoop</h3>
<p>Edit Hadoop <tt>core-site.xml</tt> and defined the Unix user that will run the Hoop server as a proxyuser. For example:</p>
<div class="source"><pre>  ...
  &lt;property&gt;
    &lt;name&gt;hadoop.proxyuser.#HOOPUSER#.hosts&lt;/name&gt;
    &lt;value&gt;myhoop.foo.com&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;hadoop.proxyuser.#HOOPUSER#.groups&lt;/name&gt;
    &lt;value&gt;*&lt;/value&gt;
  &lt;/property&gt;
  ...</pre>
</div>
<p>IMPORTANT: Replace <tt>#HOOPUSER#</tt> with the Unix user that will start the Hoop server.</p>
</div>
<div class="section"><h3>Restart Hadoop</h3>
<p>You need to restart Hadoop for the proxyuser configuration ot become active.</p>
</div>
<div class="section"><h3>Start/Stop Hoop</h3>
<p>To start/stop Hoop use Hoop's bin/hoop.sh script. For example:</p>
<div class="source"><pre>hoop-0.1.0-SNAPSHOT $ bin/hoop.sh start</pre>
</div>
<p>NOTE: Invoking the script without any parameters list all possible parameters (start, stop, run, etc.). The <tt>hoop.sh</tt> script is a wrapper for Tomcat's <tt>catalina.sh</tt> script that sets the environment variables and Java System properties required to run Hoop.</p>
</div>
<div class="section"><h3>Test Hoop is working</h3>
<div class="source"><pre>~ $ curl -i &quot;http://&lt;HOOPHOSTNAME&gt;:14000?user.name=babu&amp;op=homedir&quot;
HTTP/1.1 200 OK
Content-Type: application/json
Transfer-Encoding: chunked

{&quot;homeDir&quot;:&quot;http:\/\/&lt;HOOP_HOST&gt;:14000\/user\/babu&quot;}</pre>
</div>
</div>
<div class="section"><h3>Embedded Tomcat Configuration</h3>
<p>To configure the embedded Tomcat go to the <tt>tomcat/conf</tt>.</p>
<p>Hoop preconfigures the HTTP and Admin ports in Tomcat's <tt>server.xml</tt> to 14000 and 14001.</p>
<p>Tomcat logs are also preconfigured to go to Hoop's <tt>logs/</tt> directory.</p>
<p>The following environment variables (which can be set in Hoop's <tt>conf/hoop-env.sh</tt> script) can be used to alter those values:</p>
<ul><li>HOOP_HTTP_PORT</li>
<li>HOOP_ADMIN_PORT</li>
<li>HOOP_LOG</li>
</ul>
</div>
<div class="section"><h3>Hoop Configuration</h3>
<p>Hoop supports the following <a href="hoop-default.html">configuration properties</a> in the Hoop's <tt>conf/hoop-site.xml</tt> configuration file.</p>
<p>[ <a href="index.html">Go Back</a> ]</p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;            2011
              Cloudera
            
                       - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
